/* ===== Special bougain overlay ===== */
.card.good{
  animation: goodPop 550ms ease-out both;
  border-color: rgba(255, 105, 180, 0.35);
  box-shadow: 0 14px 55px rgba(0,0,0,0.40), 0 0 22px rgba(255, 105, 180, 0.22);
}

@keyframes goodPop{
  0%   { transform: scale(0.96); }
  55%  { transform: scale(1.03); }
  100% { transform: scale(1); }
}

/* Mini confettis */
.confetti{
  position: absolute;
  left: var(--x);
  top: -10px;
  font-size: 20px;
  opacity: 0;
  animation: confettiFall 1100ms ease-out forwards;
  pointer-events: none;
}

@keyframes confettiFall{
  0%   { transform: translateY(0) rotate(0deg) scale(0.9); opacity: 0; }
  10%  { opacity: 1; }
  100% { transform: translateY(170px) rotate(var(--rot)) scale(1.1); opacity: 0; }
}




// Effets spÃ©ciaux si c'est le bougainvillier
card.classList.toggle("good", isTarget);

if (isTarget){
  // petite vibration (si supportÃ©e)
  try{
    if (navigator.vibrate) navigator.vibrate([40, 30, 40]);
  } catch(e){}

  // mini confettis (dans l'overlay, au-dessus de la carte)
  launchConfetti(overlay, 14);
}




function launchConfetti(container, count){
  // on nettoie les anciens (si jamais)
  container.querySelectorAll(".confetti").forEach(n => n.remove());

  const icons = ["ğŸ’–","âœ¨","ğŸ’","ğŸ˜","ğŸŒ¸"];
  const w = window.innerWidth;

  for (let i=0; i<count; i++){
    const el = document.createElement("div");
    el.className = "confetti";
    el.textContent = icons[Math.floor(Math.random()*icons.length)];

    const x = Math.floor(Math.random() * (Math.min(520, w) - 20)) + 10; // zone centrÃ©e
    const rot = `${Math.floor(Math.random()*240 - 120)}deg`;

    el.style.setProperty("--x", `calc(50% - 260px + ${x}px)`);
    el.style.setProperty("--rot", rot);

    container.appendChild(el);

    // suppression aprÃ¨s animation
    setTimeout(() => el.remove(), 1300);
  }
}




card.classList.remove("good");
